# This is the environment to test recent versions of dependencies on windows an MacOS.
#
# Tensorflow is being installed via pip here because:
#   - conda-forge does not provide packages for windows
#   - the conda-forge package give an error for some tests on MacOS
name: orthoseg-latest-win-mac
channels:
  - conda-forge
dependencies:
  - python
  - pip
  # required
  - gdal <3.11  # gdal 3.11 triggers issues with tensorflow
  - gdown
  - geofileops >=0.6
  - geopandas-base >=0.12
  - matplotlib-base
  - numpy <2.2  # Tensorflow 2.19 needs a limit on the numpy version
  - owslib
  - pillow
  - pycron
  - pygeoops >=0.2
  - pyproj
  - rasterio
  - shapely >=2
  - simplification
  # testing
  - pytest
  - pytest-cov
  - pytest-order
  - pip:
    - segmentation-models >=1.0
    - tensorflow >=2.10,<2.20